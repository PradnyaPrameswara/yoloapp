{"ast":null,"code":"var _jsxFileName = \"C:\\\\Gemastik\\\\yoloapp\\\\yoloapp\\\\frontend\\\\src\\\\App.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$(),\n  _s3 = $RefreshSig$();\nimport React, { useState, useRef, useCallback, useEffect } from 'react';\nimport Login from './components/Login';\nimport Register from './components/Register';\nimport { AuthProvider, useAuth } from './contexts/AuthContext';\n\n// --- Import Sign Language Images ---\n// This method allows React to bundle the images with the app.\n// Supports both PNG and JPG formats\n\n// Helper function to import images with fallback\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst importImage = imageName => {\n  try {\n    // Try PNG first\n    return require(`./assets/signs/${imageName}.png`);\n  } catch (e) {\n    try {\n      // Fallback to JPG\n      return require(`./assets/signs/${imageName}.jpg`);\n    } catch (e2) {\n      // If neither exists, return null or a placeholder\n      console.warn(`Image not found: ${imageName} (tried both .png and .jpg)`);\n      return null;\n    }\n  }\n};\n\n// Import all images with dual format support\nconst imgNum0 = importImage('number_0');\nconst imgNum1 = importImage('number_1');\nconst imgNum2 = importImage('number_2');\nconst imgNum3 = importImage('number_3');\nconst imgNum4 = importImage('number_4');\nconst imgNum5 = importImage('number_5');\nconst imgNum6 = importImage('number_6');\nconst imgNum7 = importImage('number_7');\nconst imgNum8 = importImage('number_8');\nconst imgNum9 = importImage('number_9');\nconst imgTambah = importImage('operator_tambah');\nconst imgKurang = importImage('operator_kurang');\nconst imgKali = importImage('operator_kali');\nconst imgBagi = importImage('operator_bagi');\nconst imgStart = importImage('command_start');\nconst imgUndefined = importImage('command_undefined');\n\n// --- Main App Component: Manages navigation between pages ---\nfunction AppContent() {\n  _s();\n  const [page, setPage] = useState('landing'); // 'landing', 'home', 'help', 'calculator', 'login', 'register'\n  const {\n    currentUser,\n    loading,\n    isAuthenticated\n  } = useAuth();\n  const navigateTo = pageName => {\n    setPage(pageName);\n  };\n  useEffect(() => {\n    // If user is authenticated and on a public page, redirect to home\n    if (isAuthenticated && (page === 'landing' || page === 'login' || page === 'register')) {\n      navigateTo('home');\n    }\n  }, [isAuthenticated, page]);\n\n  // Show loading state while checking authentication\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-gray-900 text-white min-h-screen w-full flex items-center justify-center\",\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-xl\",\n        children: \"Loading...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 13\n    }, this);\n  }\n  const renderPage = () => {\n    switch (page) {\n      case 'login':\n        return /*#__PURE__*/_jsxDEV(Login, {\n          navigateTo: navigateTo\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 24\n        }, this);\n      case 'register':\n        return /*#__PURE__*/_jsxDEV(Register, {\n          navigateTo: navigateTo\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 24\n        }, this);\n      case 'home':\n        // If not authenticated and trying to access protected page, redirect to login\n        if (!isAuthenticated) {\n          return /*#__PURE__*/_jsxDEV(Login, {\n            navigateTo: navigateTo\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 28\n          }, this);\n        }\n        return /*#__PURE__*/_jsxDEV(HomePage, {\n          onNavigate: navigateTo\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 24\n        }, this);\n      case 'help':\n        if (!isAuthenticated) {\n          return /*#__PURE__*/_jsxDEV(Login, {\n            navigateTo: navigateTo\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 28\n          }, this);\n        }\n        return /*#__PURE__*/_jsxDEV(HelpPage, {\n          onNavigate: navigateTo\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 24\n        }, this);\n      case 'calculator':\n        if (!isAuthenticated) {\n          return /*#__PURE__*/_jsxDEV(Login, {\n            navigateTo: navigateTo\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 28\n          }, this);\n        }\n        return /*#__PURE__*/_jsxDEV(CalculatorPage, {\n          onNavigate: navigateTo\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 24\n        }, this);\n      case 'landing':\n      default:\n        return /*#__PURE__*/_jsxDEV(LandingPage, {\n          onNavigate: navigateTo\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 24\n        }, this);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"bg-gray-900 text-white min-h-screen w-full flex flex-col items-center justify-center font-sans p-4\",\n    children: renderPage()\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 100,\n    columnNumber: 9\n  }, this);\n}\n\n// Wrap the app with AuthProvider\n_s(AppContent, \"NjZxipsOPrz1/DfTrGpGVZgf24k=\", false, function () {\n  return [useAuth];\n});\n_c = AppContent;\nfunction App() {\n  return /*#__PURE__*/_jsxDEV(AuthProvider, {\n    children: /*#__PURE__*/_jsxDEV(AppContent, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 109,\n    columnNumber: 9\n  }, this);\n}\n\n// --- Page Components ---\n\n// 1. Landing Page Component\n_c2 = App;\nfunction LandingPage({\n  onNavigate\n}) {\n  _s2();\n  const {\n    isAuthenticated\n  } = useAuth();\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"w-full max-w-md mx-auto text-center bg-gray-800 p-8 rounded-2xl shadow-lg animate-fade-in\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"text-4xl font-bold mb-2 text-blue-400\",\n      children: \"YOLOv11 Sign Language Calculator\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"text-lg text-gray-300 mb-8\",\n      children: \"An interactive way to learn and practice arithmetic using sign language.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-col items-center space-y-4\",\n      children: [isAuthenticated ? /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => onNavigate('home'),\n        className: \"w-full px-8 py-3 bg-blue-600 hover:bg-blue-700 rounded-lg font-semibold transition-all duration-300 transform hover:scale-105\",\n        children: \"Continue to App\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 21\n      }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => onNavigate('login'),\n          className: \"w-full px-8 py-3 bg-blue-600 hover:bg-blue-700 rounded-lg font-semibold transition-all duration-300 transform hover:scale-105\",\n          children: \"Sign In\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => onNavigate('register'),\n          className: \"w-full px-8 py-3 bg-green-600 hover:bg-green-700 rounded-lg font-semibold transition-all duration-300 transform hover:scale-105\",\n          children: \"Create Account\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => onNavigate('home'),\n          className: \"text-gray-400 hover:text-white text-sm mt-2\",\n          children: \"Continue as Guest\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-xs text-gray-500 mt-4\",\n        children: \"Create an account to save your progress!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 122,\n    columnNumber: 9\n  }, this);\n}\n\n// 2. Home Page Component\n_s2(LandingPage, \"1LGxUrjNz4q7iKM/2JDC9lJQ3xY=\", false, function () {\n  return [useAuth];\n});\n_c3 = LandingPage;\nfunction HomePage({\n  onNavigate\n}) {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"w-full max-w-md mx-auto text-center bg-gray-800 p-8 rounded-2xl shadow-lg animate-fade-in\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"text-3xl font-bold mb-4\",\n      children: \"Welcome!\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"text-gray-300 mb-8\",\n      children: \"Choose an option to get started.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-col space-y-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => onNavigate('calculator'),\n        className: \"w-full px-8 py-4 bg-green-600 hover:bg-green-700 rounded-lg font-semibold text-lg transition-all duration-300 transform hover:scale-105\",\n        children: \"Start Calculator\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => onNavigate('help'),\n        className: \"w-full px-8 py-3 bg-gray-600 hover:bg-gray-700 rounded-lg font-semibold transition-all duration-300 transform hover:scale-105\",\n        children: \"Help (View Signs)\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => onNavigate('landing'),\n        className: \"mt-4 text-sm text-gray-400 hover:text-white transition-colors\",\n        children: \"Logout\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 18\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 170,\n    columnNumber: 9\n  }, this);\n}\n\n// 3. Help Page Component\n_c4 = HomePage;\nfunction HelpPage({\n  onNavigate\n}) {\n  const signs = [{\n    name: 'Number 0',\n    img: imgNum0\n  }, {\n    name: 'Number 1',\n    img: imgNum1\n  }, {\n    name: 'Number 2',\n    img: imgNum2\n  }, {\n    name: 'Number 3',\n    img: imgNum3\n  }, {\n    name: 'Number 4',\n    img: imgNum4\n  }, {\n    name: 'Number 5',\n    img: imgNum5\n  }, {\n    name: 'Number 6',\n    img: imgNum6\n  }, {\n    name: 'Number 7',\n    img: imgNum7\n  }, {\n    name: 'Number 8',\n    img: imgNum8\n  }, {\n    name: 'Number 9',\n    img: imgNum9\n  }, {\n    name: 'Tambah (+)',\n    img: imgTambah\n  }, {\n    name: 'Kurang (-)',\n    img: imgKurang\n  }, {\n    name: 'Kali (x)',\n    img: imgKali\n  }, {\n    name: 'Bagi (/)',\n    img: imgBagi\n  }, {\n    name: 'Start',\n    img: imgStart\n  }, {\n    name: 'Undefined',\n    img: imgUndefined\n  }].filter(sign => sign.img !== null); // Filter out signs with missing images\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"w-full max-w-4xl mx-auto bg-gray-800 p-8 rounded-2xl shadow-lg animate-fade-in\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"text-3xl font-bold mb-6 text-center\",\n      children: \"Sign Language Guide\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 222,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-6\",\n      children: signs.map(sign => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-col items-center bg-gray-700 p-4 rounded-lg\",\n        children: [sign.img ? /*#__PURE__*/_jsxDEV(\"img\", {\n          src: sign.img,\n          alt: sign.name,\n          className: \"w-full h-auto rounded-md mb-2 object-cover aspect-square\",\n          onError: e => {\n            e.target.style.display = 'none';\n            e.target.nextSibling.style.display = 'flex';\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 227,\n          columnNumber: 29\n        }, this) : null, /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-full aspect-square bg-gray-600 rounded-md mb-2 flex items-center justify-center text-gray-400 text-sm hidden\",\n          style: {\n            display: sign.img ? 'none' : 'flex'\n          },\n          children: \"Image not found\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 237,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"font-semibold text-center\",\n          children: sign.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 243,\n          columnNumber: 25\n        }, this)]\n      }, sign.name, true, {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 21\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 223,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-center mt-8\",\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => onNavigate('home'),\n        className: \"px-8 py-3 bg-blue-600 hover:bg-blue-700 rounded-lg font-semibold transition-all duration-300\",\n        children: \"Back to Home\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 248,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 247,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 221,\n    columnNumber: 9\n  }, this);\n}\n\n// 4. Calculator Page Component\n_c5 = HelpPage;\nfunction CalculatorPage({\n  onNavigate\n}) {\n  _s3();\n  var _analysisResult$state2, _analysisResult$state3, _analysisResult$state4, _analysisResult$state5, _analysisResult$state6, _analysisResult$state7, _analysisResult$state8, _analysisResult$state9, _analysisResult$detec, _analysisResult$state0, _analysisResult$state1;\n  const videoRef = useRef(null);\n  const canvasRef = useRef(null);\n  const [isCameraOn, setIsCameraOn] = useState(false);\n  const [analysisResult, setAnalysisResult] = useState({\n    detected_class: null,\n    state: {\n      current_state: \"WAIT_FIRST_NUM\",\n      number_1: null,\n      operator: null,\n      number_2: null,\n      result: null\n    }\n  });\n  const [statusMessage, setStatusMessage] = useState(\"Click 'Start Camera' to begin.\");\n  const [isAnalyzing, setIsAnalyzing] = useState(false);\n\n  // Function to start the camera\n  const startCamera = async () => {\n    try {\n      const stream = await navigator.mediaDevices.getUserMedia({\n        video: true\n      });\n      if (videoRef.current) {\n        videoRef.current.srcObject = stream;\n        setIsCameraOn(true);\n        setStatusMessage(\"Please show the first number (0-9).\");\n      }\n    } catch (err) {\n      console.error(\"Error accessing camera:\", err);\n      setStatusMessage(\"Camera access denied. Please allow camera permissions.\");\n    }\n  };\n\n  // Function to stop the camera\n  const stopCamera = () => {\n    if (videoRef.current && videoRef.current.srcObject) {\n      videoRef.current.srcObject.getTracks().forEach(track => track.stop());\n      setIsCameraOn(false);\n      setStatusMessage(\"Click 'Start Camera' to begin.\");\n    }\n  };\n\n  // Function to manually reset the calculator\n  const resetCalculator = () => {\n    setAnalysisResult({\n      detected_class: null,\n      state: {\n        current_state: \"WAIT_FIRST_NUM\",\n        number_1: null,\n        operator: null,\n        number_2: null,\n        result: null\n      }\n    });\n    setStatusMessage(\"Calculator reset. Please show the first number.\");\n  };\n\n  // Function to capture a frame and send for analysis\n  const runAnalysis = useCallback(async () => {\n    if (isAnalyzing || !videoRef.current || !videoRef.current.srcObject) return;\n    setIsAnalyzing(true);\n    const canvas = canvasRef.current;\n    const video = videoRef.current;\n    canvas.width = video.videoWidth;\n    canvas.height = video.videoHeight;\n    const context = canvas.getContext('2d');\n    context.drawImage(video, 0, 0, canvas.width, canvas.height);\n    canvas.toBlob(async blob => {\n      const formData = new FormData();\n      formData.append('file', blob, 'frame.jpg');\n      try {\n        const response = await fetch('http://localhost:8000/api/detect', {\n          method: 'POST',\n          body: formData\n        });\n        const data = await response.json();\n        setAnalysisResult(data);\n\n        // Handle reset when Start is detected\n        if (data.detected_class === 'Start') {\n          // Reset to initial state after a brief delay to show the reset message\n          setTimeout(() => {\n            setAnalysisResult({\n              detected_class: null,\n              state: {\n                current_state: \"WAIT_FIRST_NUM\",\n                number_1: null,\n                operator: null,\n                number_2: null,\n                result: null\n              }\n            });\n          }, 1500); // 1.5 second delay to show reset message\n        }\n      } catch (error) {\n        console.error(\"Analysis failed:\", error);\n        setStatusMessage(\"Analysis failed. Is the backend running?\");\n      } finally {\n        setIsAnalyzing(false);\n      }\n    }, 'image/jpeg');\n  }, [isAnalyzing]);\n\n  // Helper to update status message based on state\n  const updateStatusMessage = useCallback(() => {\n    const {\n      state,\n      detected_class\n    } = analysisResult;\n    if (!state) return;\n    if (detected_class === 'Start') {\n      setStatusMessage(\"System reset! Starting fresh calculation...\");\n      return;\n    }\n    if (detected_class === 'Undefined') {\n      setStatusMessage(\"Gesture not recognized. Please try again.\");\n      return;\n    }\n    switch (state.current_state) {\n      case \"WAIT_FIRST_NUM\":\n        setStatusMessage(\"Please show the first number (0-9).\");\n        break;\n      case \"WAIT_OPERATOR\":\n        setStatusMessage(`Got it: ${state.number_1}. Now show an operator.`);\n        break;\n      case \"WAIT_SECOND_NUM\":\n        setStatusMessage(`OK: ${state.number_1} ${state.operator}. Now show the second number.`);\n        break;\n      case \"SHOWING_RESULT\":\n        setStatusMessage(`Calculation complete! Result: ${state.result}. Show 'Start' to reset.`);\n        break;\n      default:\n        setStatusMessage(\"Ready to start.\");\n    }\n  }, [analysisResult]);\n  useEffect(() => {\n    updateStatusMessage();\n  }, [analysisResult, updateStatusMessage]);\n\n  // Helper to get dynamic class for UI boxes\n  const getBoxClass = boxName => {\n    var _analysisResult$state;\n    const currentState = (_analysisResult$state = analysisResult.state) === null || _analysisResult$state === void 0 ? void 0 : _analysisResult$state.current_state;\n    let isActive = false;\n    if (boxName === 'number_1' && currentState === 'WAIT_FIRST_NUM') isActive = true;\n    if (boxName === 'operator' && currentState === 'WAIT_OPERATOR') isActive = true;\n    if (boxName === 'number_2' && currentState === 'WAIT_SECOND_NUM') isActive = true;\n    return `p-4 rounded-lg transition-all text-center ${isActive ? 'active-box' : 'bg-gray-800'}`;\n  };\n\n  // Cleanup camera on component unmount\n  useEffect(() => {\n    return () => {\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n      const video = videoRef.current;\n      if (video && video.srcObject) {\n        video.srcObject.getTracks().forEach(track => track.stop());\n      }\n    };\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"w-full max-w-6xl mx-auto grid grid-cols-1 md:grid-cols-2 gap-8 animate-fade-in\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-col items-center bg-gray-800 p-6 rounded-2xl shadow-lg\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-full flex justify-between items-center mb-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"text-2xl font-bold\",\n          children: \"YOLOv11 Calculator\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 427,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => onNavigate('home'),\n          className: \"text-sm text-blue-400 hover:text-blue-300\",\n          children: \"\\u2190 Back to Home\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 428,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 426,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-full aspect-video bg-black rounded-lg overflow-hidden mb-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"video\", {\n          ref: videoRef,\n          autoPlay: true,\n          playsInline: true,\n          className: \"w-full h-full object-cover\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 433,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"canvas\", {\n          ref: canvasRef,\n          className: \"hidden\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 434,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 432,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-wrap gap-2 justify-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: isCameraOn ? stopCamera : startCamera,\n          className: \"px-6 py-2 bg-blue-600 hover:bg-blue-700 rounded-lg font-semibold transition-colors\",\n          children: isCameraOn ? 'Stop Camera' : 'Start Camera'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 437,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: runAnalysis,\n          disabled: !isCameraOn || isAnalyzing,\n          className: \"px-6 py-2 bg-green-600 hover:bg-green-700 rounded-lg font-semibold transition-colors disabled:bg-gray-500\",\n          children: isAnalyzing ? 'Analyzing...' : 'Run Analysis'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 440,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: resetCalculator,\n          className: \"px-6 py-2 bg-red-600 hover:bg-red-700 rounded-lg font-semibold transition-colors\",\n          children: \"Reset\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 443,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 436,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 425,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-col justify-center bg-gray-800 p-6 rounded-2xl shadow-lg\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-2xl font-bold mb-4 text-center\",\n        children: \"Calculation\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 451,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"status-message bg-gray-700 p-3 rounded-lg mb-6\",\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-lg text-center font-mono\",\n          children: statusMessage\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 453,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 452,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"calculation-display flex items-center justify-center space-x-2 md:space-x-4 text-3xl md:text-5xl font-mono mb-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: getBoxClass('number_1'),\n          children: (_analysisResult$state2 = (_analysisResult$state3 = analysisResult.state) === null || _analysisResult$state3 === void 0 ? void 0 : _analysisResult$state3.number_1) !== null && _analysisResult$state2 !== void 0 ? _analysisResult$state2 : '_'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 456,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: getBoxClass('operator'),\n          children: (_analysisResult$state4 = (_analysisResult$state5 = analysisResult.state) === null || _analysisResult$state5 === void 0 ? void 0 : _analysisResult$state5.operator) !== null && _analysisResult$state4 !== void 0 ? _analysisResult$state4 : '_'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 457,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: getBoxClass('number_2'),\n          children: (_analysisResult$state6 = (_analysisResult$state7 = analysisResult.state) === null || _analysisResult$state7 === void 0 ? void 0 : _analysisResult$state7.number_2) !== null && _analysisResult$state6 !== void 0 ? _analysisResult$state6 : '_'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 458,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"mx-2\",\n          children: \"=\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 459,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"p-4 rounded-lg bg-gray-800 text-center\",\n          children: (_analysisResult$state8 = (_analysisResult$state9 = analysisResult.state) === null || _analysisResult$state9 === void 0 ? void 0 : _analysisResult$state9.result) !== null && _analysisResult$state8 !== void 0 ? _analysisResult$state8 : '_'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 460,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 455,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-gray-700 p-3 rounded-lg text-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Last Detected: \", /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"font-bold text-green-400\",\n            children: (_analysisResult$detec = analysisResult.detected_class) !== null && _analysisResult$detec !== void 0 ? _analysisResult$detec : 'None'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 463,\n            columnNumber: 39\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 463,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Current State: \", /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"font-bold text-yellow-400\",\n            children: (_analysisResult$state0 = (_analysisResult$state1 = analysisResult.state) === null || _analysisResult$state1 === void 0 ? void 0 : _analysisResult$state1.current_state) !== null && _analysisResult$state0 !== void 0 ? _analysisResult$state0 : 'N/A'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 464,\n            columnNumber: 39\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 464,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 462,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 450,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 423,\n    columnNumber: 9\n  }, this);\n}\n_s3(CalculatorPage, \"Pf6eOJswj4z41x3aXFgOQNR2jBc=\");\n_c6 = CalculatorPage;\nexport default App;\nvar _c, _c2, _c3, _c4, _c5, _c6;\n$RefreshReg$(_c, \"AppContent\");\n$RefreshReg$(_c2, \"App\");\n$RefreshReg$(_c3, \"LandingPage\");\n$RefreshReg$(_c4, \"HomePage\");\n$RefreshReg$(_c5, \"HelpPage\");\n$RefreshReg$(_c6, \"CalculatorPage\");","map":{"version":3,"names":["React","useState","useRef","useCallback","useEffect","Login","Register","AuthProvider","useAuth","jsxDEV","_jsxDEV","Fragment","_Fragment","importImage","imageName","require","e","e2","console","warn","imgNum0","imgNum1","imgNum2","imgNum3","imgNum4","imgNum5","imgNum6","imgNum7","imgNum8","imgNum9","imgTambah","imgKurang","imgKali","imgBagi","imgStart","imgUndefined","AppContent","_s","page","setPage","currentUser","loading","isAuthenticated","navigateTo","pageName","className","children","fileName","_jsxFileName","lineNumber","columnNumber","renderPage","HomePage","onNavigate","HelpPage","CalculatorPage","LandingPage","_c","App","_c2","_s2","onClick","_c3","_c4","signs","name","img","filter","sign","map","src","alt","onError","target","style","display","nextSibling","_c5","_s3","_analysisResult$state2","_analysisResult$state3","_analysisResult$state4","_analysisResult$state5","_analysisResult$state6","_analysisResult$state7","_analysisResult$state8","_analysisResult$state9","_analysisResult$detec","_analysisResult$state0","_analysisResult$state1","videoRef","canvasRef","isCameraOn","setIsCameraOn","analysisResult","setAnalysisResult","detected_class","state","current_state","number_1","operator","number_2","result","statusMessage","setStatusMessage","isAnalyzing","setIsAnalyzing","startCamera","stream","navigator","mediaDevices","getUserMedia","video","current","srcObject","err","error","stopCamera","getTracks","forEach","track","stop","resetCalculator","runAnalysis","canvas","width","videoWidth","height","videoHeight","context","getContext","drawImage","toBlob","blob","formData","FormData","append","response","fetch","method","body","data","json","setTimeout","updateStatusMessage","getBoxClass","boxName","_analysisResult$state","currentState","isActive","ref","autoPlay","playsInline","disabled","_c6","$RefreshReg$"],"sources":["C:/Gemastik/yoloapp/yoloapp/frontend/src/App.js"],"sourcesContent":["import React, { useState, useRef, useCallback, useEffect } from 'react';\r\nimport Login from './components/Login';\r\nimport Register from './components/Register';\r\nimport { AuthProvider, useAuth } from './contexts/AuthContext';\r\n\r\n// --- Import Sign Language Images ---\r\n// This method allows React to bundle the images with the app.\r\n// Supports both PNG and JPG formats\r\n\r\n// Helper function to import images with fallback\r\nconst importImage = (imageName) => {\r\n    try {\r\n        // Try PNG first\r\n        return require(`./assets/signs/${imageName}.png`);\r\n    } catch (e) {\r\n        try {\r\n            // Fallback to JPG\r\n            return require(`./assets/signs/${imageName}.jpg`);\r\n        } catch (e2) {\r\n            // If neither exists, return null or a placeholder\r\n            console.warn(`Image not found: ${imageName} (tried both .png and .jpg)`);\r\n            return null;\r\n        }\r\n    }\r\n};\r\n\r\n// Import all images with dual format support\r\nconst imgNum0 = importImage('number_0');\r\nconst imgNum1 = importImage('number_1');\r\nconst imgNum2 = importImage('number_2');\r\nconst imgNum3 = importImage('number_3');\r\nconst imgNum4 = importImage('number_4');\r\nconst imgNum5 = importImage('number_5');\r\nconst imgNum6 = importImage('number_6');\r\nconst imgNum7 = importImage('number_7');\r\nconst imgNum8 = importImage('number_8');\r\nconst imgNum9 = importImage('number_9');\r\nconst imgTambah = importImage('operator_tambah');\r\nconst imgKurang = importImage('operator_kurang');\r\nconst imgKali = importImage('operator_kali');\r\nconst imgBagi = importImage('operator_bagi');\r\nconst imgStart = importImage('command_start');\r\nconst imgUndefined = importImage('command_undefined');\r\n\r\n\r\n// --- Main App Component: Manages navigation between pages ---\r\nfunction AppContent() {\r\n    const [page, setPage] = useState('landing'); // 'landing', 'home', 'help', 'calculator', 'login', 'register'\r\n    const { currentUser, loading, isAuthenticated } = useAuth();\r\n\r\n    const navigateTo = (pageName) => {\r\n        setPage(pageName);\r\n    };\r\n\r\n    useEffect(() => {\r\n        // If user is authenticated and on a public page, redirect to home\r\n        if (isAuthenticated && (page === 'landing' || page === 'login' || page === 'register')) {\r\n            navigateTo('home');\r\n        }\r\n    }, [isAuthenticated, page]);\r\n\r\n    // Show loading state while checking authentication\r\n    if (loading) {\r\n        return (\r\n            <div className=\"bg-gray-900 text-white min-h-screen w-full flex items-center justify-center\">\r\n                <p className=\"text-xl\">Loading...</p>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    const renderPage = () => {\r\n        switch (page) {\r\n            case 'login':\r\n                return <Login navigateTo={navigateTo} />;\r\n            case 'register':\r\n                return <Register navigateTo={navigateTo} />;\r\n            case 'home':\r\n                // If not authenticated and trying to access protected page, redirect to login\r\n                if (!isAuthenticated) {\r\n                    return <Login navigateTo={navigateTo} />;\r\n                }\r\n                return <HomePage onNavigate={navigateTo} />;\r\n            case 'help':\r\n                if (!isAuthenticated) {\r\n                    return <Login navigateTo={navigateTo} />;\r\n                }\r\n                return <HelpPage onNavigate={navigateTo} />;\r\n            case 'calculator':\r\n                if (!isAuthenticated) {\r\n                    return <Login navigateTo={navigateTo} />;\r\n                }\r\n                return <CalculatorPage onNavigate={navigateTo} />;\r\n            case 'landing':\r\n            default:\r\n                return <LandingPage onNavigate={navigateTo} />;\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"bg-gray-900 text-white min-h-screen w-full flex flex-col items-center justify-center font-sans p-4\">\r\n            {renderPage()}\r\n        </div>\r\n    );\r\n}\r\n\r\n// Wrap the app with AuthProvider\r\nfunction App() {\r\n    return (\r\n        <AuthProvider>\r\n            <AppContent />\r\n        </AuthProvider>\r\n    );\r\n}\r\n\r\n// --- Page Components ---\r\n\r\n// 1. Landing Page Component\r\nfunction LandingPage({ onNavigate }) {\r\n    const { isAuthenticated } = useAuth();\r\n\r\n    return (\r\n        <div className=\"w-full max-w-md mx-auto text-center bg-gray-800 p-8 rounded-2xl shadow-lg animate-fade-in\">\r\n            <h1 className=\"text-4xl font-bold mb-2 text-blue-400\">\r\n                YOLOv11 Sign Language Calculator\r\n            </h1>\r\n            <p className=\"text-lg text-gray-300 mb-8\">\r\n                An interactive way to learn and practice arithmetic using sign language.\r\n            </p>\r\n            <div className=\"flex flex-col items-center space-y-4\">\r\n                {isAuthenticated ? (\r\n                    <button \r\n                        onClick={() => onNavigate('home')}\r\n                        className=\"w-full px-8 py-3 bg-blue-600 hover:bg-blue-700 rounded-lg font-semibold transition-all duration-300 transform hover:scale-105\"\r\n                    >\r\n                        Continue to App\r\n                    </button>\r\n                ) : (\r\n                    <>\r\n                        <button \r\n                            onClick={() => onNavigate('login')}\r\n                            className=\"w-full px-8 py-3 bg-blue-600 hover:bg-blue-700 rounded-lg font-semibold transition-all duration-300 transform hover:scale-105\"\r\n                        >\r\n                            Sign In\r\n                        </button>\r\n                        <button \r\n                            onClick={() => onNavigate('register')}\r\n                            className=\"w-full px-8 py-3 bg-green-600 hover:bg-green-700 rounded-lg font-semibold transition-all duration-300 transform hover:scale-105\"\r\n                        >\r\n                            Create Account\r\n                        </button>\r\n                        <button \r\n                            onClick={() => onNavigate('home')}\r\n                            className=\"text-gray-400 hover:text-white text-sm mt-2\"\r\n                        >\r\n                            Continue as Guest\r\n                        </button>\r\n                    </>\r\n                )}\r\n                <p className=\"text-xs text-gray-500 mt-4\">\r\n                    Create an account to save your progress!\r\n                </p>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\n// 2. Home Page Component\r\nfunction HomePage({ onNavigate }) {\r\n    return (\r\n        <div className=\"w-full max-w-md mx-auto text-center bg-gray-800 p-8 rounded-2xl shadow-lg animate-fade-in\">\r\n            <h1 className=\"text-3xl font-bold mb-4\">Welcome!</h1>\r\n            <p className=\"text-gray-300 mb-8\">\r\n                Choose an option to get started.\r\n            </p>\r\n            <div className=\"flex flex-col space-y-4\">\r\n                <button \r\n                    onClick={() => onNavigate('calculator')}\r\n                    className=\"w-full px-8 py-4 bg-green-600 hover:bg-green-700 rounded-lg font-semibold text-lg transition-all duration-300 transform hover:scale-105\"\r\n                >\r\n                    Start Calculator\r\n                </button>\r\n                <button \r\n                    onClick={() => onNavigate('help')}\r\n                    className=\"w-full px-8 py-3 bg-gray-600 hover:bg-gray-700 rounded-lg font-semibold transition-all duration-300 transform hover:scale-105\"\r\n                >\r\n                    Help (View Signs)\r\n                </button>\r\n                 <button \r\n                    onClick={() => onNavigate('landing')}\r\n                    className=\"mt-4 text-sm text-gray-400 hover:text-white transition-colors\"\r\n                >\r\n                    Logout\r\n                </button>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\n// 3. Help Page Component\r\nfunction HelpPage({ onNavigate }) {\r\n    const signs = [\r\n        { name: 'Number 0', img: imgNum0 },\r\n        { name: 'Number 1', img: imgNum1 },\r\n        { name: 'Number 2', img: imgNum2 },\r\n        { name: 'Number 3', img: imgNum3 },\r\n        { name: 'Number 4', img: imgNum4 },\r\n        { name: 'Number 5', img: imgNum5 },\r\n        { name: 'Number 6', img: imgNum6 },\r\n        { name: 'Number 7', img: imgNum7 },\r\n        { name: 'Number 8', img: imgNum8 },\r\n        { name: 'Number 9', img: imgNum9 },\r\n        { name: 'Tambah (+)', img: imgTambah },\r\n        { name: 'Kurang (-)', img: imgKurang },\r\n        { name: 'Kali (x)', img: imgKali },\r\n        { name: 'Bagi (/)', img: imgBagi },\r\n        { name: 'Start', img: imgStart },\r\n        { name: 'Undefined', img: imgUndefined },\r\n    ].filter(sign => sign.img !== null); // Filter out signs with missing images\r\n\r\n    return (\r\n        <div className=\"w-full max-w-4xl mx-auto bg-gray-800 p-8 rounded-2xl shadow-lg animate-fade-in\">\r\n            <h1 className=\"text-3xl font-bold mb-6 text-center\">Sign Language Guide</h1>\r\n            <div className=\"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-6\">\r\n                {signs.map((sign) => (\r\n                    <div key={sign.name} className=\"flex flex-col items-center bg-gray-700 p-4 rounded-lg\">\r\n                        {sign.img ? (\r\n                            <img \r\n                                src={sign.img} \r\n                                alt={sign.name} \r\n                                className=\"w-full h-auto rounded-md mb-2 object-cover aspect-square\"\r\n                                onError={(e) => {\r\n                                    e.target.style.display = 'none';\r\n                                    e.target.nextSibling.style.display = 'flex';\r\n                                }}\r\n                            />\r\n                        ) : null}\r\n                        <div \r\n                            className=\"w-full aspect-square bg-gray-600 rounded-md mb-2 flex items-center justify-center text-gray-400 text-sm hidden\"\r\n                            style={{display: sign.img ? 'none' : 'flex'}}\r\n                        >\r\n                            Image not found\r\n                        </div>\r\n                        <p className=\"font-semibold text-center\">{sign.name}</p>\r\n                    </div>\r\n                ))}\r\n            </div>\r\n            <div className=\"text-center mt-8\">\r\n                <button \r\n                    onClick={() => onNavigate('home')}\r\n                    className=\"px-8 py-3 bg-blue-600 hover:bg-blue-700 rounded-lg font-semibold transition-all duration-300\"\r\n                >\r\n                    Back to Home\r\n                </button>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\n// 4. Calculator Page Component\r\nfunction CalculatorPage({ onNavigate }) {\r\n    const videoRef = useRef(null);\r\n    const canvasRef = useRef(null);\r\n    const [isCameraOn, setIsCameraOn] = useState(false);\r\n    const [analysisResult, setAnalysisResult] = useState({\r\n        detected_class: null,\r\n        state: {\r\n            current_state: \"WAIT_FIRST_NUM\",\r\n            number_1: null,\r\n            operator: null,\r\n            number_2: null,\r\n            result: null,\r\n        }\r\n    });\r\n    const [statusMessage, setStatusMessage] = useState(\"Click 'Start Camera' to begin.\");\r\n    const [isAnalyzing, setIsAnalyzing] = useState(false);\r\n\r\n    // Function to start the camera\r\n    const startCamera = async () => {\r\n        try {\r\n            const stream = await navigator.mediaDevices.getUserMedia({ video: true });\r\n            if (videoRef.current) {\r\n                videoRef.current.srcObject = stream;\r\n                setIsCameraOn(true);\r\n                setStatusMessage(\"Please show the first number (0-9).\");\r\n            }\r\n        } catch (err) {\r\n            console.error(\"Error accessing camera:\", err);\r\n            setStatusMessage(\"Camera access denied. Please allow camera permissions.\");\r\n        }\r\n    };\r\n\r\n    // Function to stop the camera\r\n    const stopCamera = () => {\r\n        if (videoRef.current && videoRef.current.srcObject) {\r\n            videoRef.current.srcObject.getTracks().forEach(track => track.stop());\r\n            setIsCameraOn(false);\r\n            setStatusMessage(\"Click 'Start Camera' to begin.\");\r\n        }\r\n    };\r\n\r\n    // Function to manually reset the calculator\r\n    const resetCalculator = () => {\r\n        setAnalysisResult({\r\n            detected_class: null,\r\n            state: {\r\n                current_state: \"WAIT_FIRST_NUM\",\r\n                number_1: null,\r\n                operator: null,\r\n                number_2: null,\r\n                result: null,\r\n            }\r\n        });\r\n        setStatusMessage(\"Calculator reset. Please show the first number.\");\r\n    };\r\n\r\n    // Function to capture a frame and send for analysis\r\n    const runAnalysis = useCallback(async () => {\r\n        if (isAnalyzing || !videoRef.current || !videoRef.current.srcObject) return;\r\n        setIsAnalyzing(true);\r\n\r\n        const canvas = canvasRef.current;\r\n        const video = videoRef.current;\r\n        canvas.width = video.videoWidth;\r\n        canvas.height = video.videoHeight;\r\n        const context = canvas.getContext('2d');\r\n        context.drawImage(video, 0, 0, canvas.width, canvas.height);\r\n\r\n        canvas.toBlob(async (blob) => {\r\n            const formData = new FormData();\r\n            formData.append('file', blob, 'frame.jpg');\r\n\r\n            try {\r\n                const response = await fetch('http://localhost:8000/api/detect', {\r\n                    method: 'POST',\r\n                    body: formData,\r\n                });\r\n                const data = await response.json();\r\n                setAnalysisResult(data);\r\n                \r\n                // Handle reset when Start is detected\r\n                if (data.detected_class === 'Start') {\r\n                    // Reset to initial state after a brief delay to show the reset message\r\n                    setTimeout(() => {\r\n                        setAnalysisResult({\r\n                            detected_class: null,\r\n                            state: {\r\n                                current_state: \"WAIT_FIRST_NUM\",\r\n                                number_1: null,\r\n                                operator: null,\r\n                                number_2: null,\r\n                                result: null,\r\n                            }\r\n                        });\r\n                    }, 1500); // 1.5 second delay to show reset message\r\n                }\r\n            } catch (error) {\r\n                console.error(\"Analysis failed:\", error);\r\n                setStatusMessage(\"Analysis failed. Is the backend running?\");\r\n            } finally {\r\n                setIsAnalyzing(false);\r\n            }\r\n        }, 'image/jpeg');\r\n    }, [isAnalyzing]);\r\n\r\n    // Helper to update status message based on state\r\n    const updateStatusMessage = useCallback(() => {\r\n        const { state, detected_class } = analysisResult;\r\n        if (!state) return;\r\n\r\n        if (detected_class === 'Start') {\r\n            setStatusMessage(\"System reset! Starting fresh calculation...\");\r\n            return;\r\n        }\r\n        if (detected_class === 'Undefined') {\r\n            setStatusMessage(\"Gesture not recognized. Please try again.\");\r\n            return;\r\n        }\r\n\r\n        switch (state.current_state) {\r\n            case \"WAIT_FIRST_NUM\":\r\n                setStatusMessage(\"Please show the first number (0-9).\");\r\n                break;\r\n            case \"WAIT_OPERATOR\":\r\n                setStatusMessage(`Got it: ${state.number_1}. Now show an operator.`);\r\n                break;\r\n            case \"WAIT_SECOND_NUM\":\r\n                setStatusMessage(`OK: ${state.number_1} ${state.operator}. Now show the second number.`);\r\n                break;\r\n            case \"SHOWING_RESULT\":\r\n                setStatusMessage(`Calculation complete! Result: ${state.result}. Show 'Start' to reset.`);\r\n                break;\r\n            default:\r\n                setStatusMessage(\"Ready to start.\");\r\n        }\r\n    }, [analysisResult]);\r\n\r\n    useEffect(() => {\r\n        updateStatusMessage();\r\n    }, [analysisResult, updateStatusMessage]);\r\n\r\n    // Helper to get dynamic class for UI boxes\r\n    const getBoxClass = (boxName) => {\r\n        const currentState = analysisResult.state?.current_state;\r\n        let isActive = false;\r\n        if (boxName === 'number_1' && currentState === 'WAIT_FIRST_NUM') isActive = true;\r\n        if (boxName === 'operator' && currentState === 'WAIT_OPERATOR') isActive = true;\r\n        if (boxName === 'number_2' && currentState === 'WAIT_SECOND_NUM') isActive = true;\r\n        return `p-4 rounded-lg transition-all text-center ${isActive ? 'active-box' : 'bg-gray-800'}`;\r\n    };\r\n    \r\n    // Cleanup camera on component unmount\r\n    useEffect(() => {\r\n        return () => {\r\n            // eslint-disable-next-line react-hooks/exhaustive-deps\r\n            const video = videoRef.current;\r\n            if (video && video.srcObject) {\r\n                video.srcObject.getTracks().forEach(track => track.stop());\r\n            }\r\n        };\r\n    }, []);\r\n\r\n    return (\r\n        <div className=\"w-full max-w-6xl mx-auto grid grid-cols-1 md:grid-cols-2 gap-8 animate-fade-in\">\r\n            {/* Left Panel: Camera and Controls */}\r\n            <div className=\"flex flex-col items-center bg-gray-800 p-6 rounded-2xl shadow-lg\">\r\n                <div className=\"w-full flex justify-between items-center mb-4\">\r\n                    <h1 className=\"text-2xl font-bold\">YOLOv11 Calculator</h1>\r\n                    <button onClick={() => onNavigate('home')} className=\"text-sm text-blue-400 hover:text-blue-300\">\r\n                        &larr; Back to Home\r\n                    </button>\r\n                </div>\r\n                <div className=\"w-full aspect-video bg-black rounded-lg overflow-hidden mb-4\">\r\n                    <video ref={videoRef} autoPlay playsInline className=\"w-full h-full object-cover\"></video>\r\n                    <canvas ref={canvasRef} className=\"hidden\"></canvas>\r\n                </div>\r\n                <div className=\"flex flex-wrap gap-2 justify-center\">\r\n                    <button onClick={isCameraOn ? stopCamera : startCamera} className=\"px-6 py-2 bg-blue-600 hover:bg-blue-700 rounded-lg font-semibold transition-colors\">\r\n                        {isCameraOn ? 'Stop Camera' : 'Start Camera'}\r\n                    </button>\r\n                    <button onClick={runAnalysis} disabled={!isCameraOn || isAnalyzing} className=\"px-6 py-2 bg-green-600 hover:bg-green-700 rounded-lg font-semibold transition-colors disabled:bg-gray-500\">\r\n                        {isAnalyzing ? 'Analyzing...' : 'Run Analysis'}\r\n                    </button>\r\n                    <button onClick={resetCalculator} className=\"px-6 py-2 bg-red-600 hover:bg-red-700 rounded-lg font-semibold transition-colors\">\r\n                        Reset\r\n                    </button>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Right Panel: Results */}\r\n            <div className=\"flex flex-col justify-center bg-gray-800 p-6 rounded-2xl shadow-lg\">\r\n                <h2 className=\"text-2xl font-bold mb-4 text-center\">Calculation</h2>\r\n                <div className=\"status-message bg-gray-700 p-3 rounded-lg mb-6\">\r\n                    <p className=\"text-lg text-center font-mono\">{statusMessage}</p>\r\n                </div>\r\n                <div className=\"calculation-display flex items-center justify-center space-x-2 md:space-x-4 text-3xl md:text-5xl font-mono mb-6\">\r\n                    <span className={getBoxClass('number_1')}>{analysisResult.state?.number_1 ?? '_'}</span>\r\n                    <span className={getBoxClass('operator')}>{analysisResult.state?.operator ?? '_'}</span>\r\n                    <span className={getBoxClass('number_2')}>{analysisResult.state?.number_2 ?? '_'}</span>\r\n                    <span className=\"mx-2\">=</span>\r\n                    <span className=\"p-4 rounded-lg bg-gray-800 text-center\">{analysisResult.state?.result ?? '_'}</span>\r\n                </div>\r\n                <div className=\"bg-gray-700 p-3 rounded-lg text-center\">\r\n                    <p>Last Detected: <span className=\"font-bold text-green-400\">{analysisResult.detected_class ?? 'None'}</span></p>\r\n                    <p>Current State: <span className=\"font-bold text-yellow-400\">{analysisResult.state?.current_state ?? 'N/A'}</span></p>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default App;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}